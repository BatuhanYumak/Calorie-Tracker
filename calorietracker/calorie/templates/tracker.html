<!DOCTYPE html>
{% load static %} {% load static %} {%load mathfilters%} {%load humanize%}



<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.js"></script>
    <link href="{% static 'main.css' %}" rel="stylesheet" type="text/css" />

    <title>FitFood</title>
  </head>
  <body>
   
    <aside id="default-sidebar" class="fixed top-0 left-0 z-40 h-screen transition-transform -translate-x-full sm:translate-x-0" aria-label="Sidebar">
      <div class="flex items-center justify-center  h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800">
         <ul class="space-y-2 mx-auto">
            <li class="pt-20">
               <a href="{% url 'index'%}" class="flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
                  <img src="{% static 'home.png'%}" class="h-6">
                  <span class="ml-3"></span>
               </a>
            </li>
            <li class="pt-20">
              <a href="#" class="flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-activity"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></g></svg>                <span class="ml-3"></span>
               </a>
            </li>
            <li class="pt-20">
              <a href="#" class="flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
                  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8C10 5.23858 12.2386 3 15 3C17.7614 3 20 5.23858 20 8C20 10.7614 17.7614 13 15 13C12.2386 13 10 10.7614 10 8ZM15 5C13.3431 5 12 6.34315 12 8C12 9.65685 13.3431 11 15 11C16.6569 11 18 9.65685 18 8C18 6.34315 16.6569 5 15 5Z" fill="#ffffff"></path> <path d="M5 8C5.55228 8 6 8.44772 6 9V11H8C8.55228 11 9 11.4477 9 12C9 12.5523 8.55228 13 8 13H6V15C6 15.5523 5.55228 16 5 16C4.44772 16 4 15.5523 4 15V13H2C1.44772 13 1 12.5523 1 12C1 11.4477 1.44772 11 2 11H4V9C4 8.44772 4.44772 8 5 8Z" fill="#ffffff"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M15 14C13.0062 14 11.0954 14.2542 9.64442 14.8986C8.16516 15.5554 7 16.7142 7 18.5C7 18.9667 7.08524 19.4978 7.40272 20.0043C7.72017 20.5106 8.20786 20.8939 8.83781 21.1789C10.0469 21.7259 11.9839 22 15 22C18.0161 22 19.9531 21.7259 21.1622 21.1789C21.7921 20.8939 22.2798 20.5106 22.5973 20.0043C22.9148 19.4978 23 18.9667 23 18.5C23 16.7142 21.8348 15.5554 20.3556 14.8986C18.9046 14.2542 16.9938 14 15 14ZM9 18.5C9 17.7858 9.40184 17.1946 10.4561 16.7264C11.5386 16.2458 13.1278 16 15 16C16.8722 16 18.4614 16.2458 19.5439 16.7264C20.5982 17.1946 21 17.7858 21 18.5C21 18.7236 20.9602 18.8502 20.9027 18.942C20.8452 19.0338 20.7079 19.1893 20.3378 19.3567C19.5469 19.7145 17.9839 20 15 20C12.0161 20 10.4531 19.7145 9.66219 19.3567C9.29214 19.1893 9.15483 19.0338 9.09728 18.942C9.03976 18.8502 9 18.7236 9 18.5Z" fill="#ffffff"></path> </g></svg>
                  <span class="ml-3"></span>
                  
               </a>
            </li>
   
            <li class="pt-20">
              <a href="#" class="flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
                  <img src="{% static 'settings.png'%}" class="h-6">
                  <span class="ml-3"></span>
               </a>
            </li>
         </ul>
      </div>
   </aside>
   
    <form method="POST" class="flex justify-center content-center min-w-3xl pt-2 ml-10">
      {%csrf_token%}

      <label
        for="default-search"
        class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white w-"
        >Search</label
      >
      <div class="flex flex-row">
        <input
    type="search"
    id="default-search"
    name="query"
    class="p-4 text-sm w-[50vw] text-gray-900 border border-gray-300 rounded-l-3xl bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
    placeholder=""
    required
/>
        <button
          type="submit"
          class="text-white right-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-r-3xl text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
        >
          Search
        </button>
      </div>
    </form>
  </div>


  {% if api %}
{% if api == "oops! There was an error" %}
<div class ="alert alert-warning"> Oh no! something went wrong.Please try again in sometime. </div>
{%else%}
  {%if api.0.calories > 200%}
  <img class="shocked" src="{% static 'shocked.png' %}" class="foto'" class="img-responsive" />
  {%endif%}
</h1>
{%if api.0.sodium_mg > 1000%}
<div class="alert alert-danger d-flex align-items-center mt-3" role="alert">
  <div>
    Dit voer bevat een hoog gehalte aan natrium. Hoog natriumgehalte veroorzaakt ernstige uitdroging en het vasthouden van water.      </div>
</div>
{%endif%}
{%if api.0.sugar_g > 100%}
<div class="alert alert-danger d-flex align-items-center mt-3" role="alert">
  <div>
    Deze voeding bevat een hoog gehalte aan suiker. Suiker veroorzaakt insulinepieken en is een nr. 1 oorzaak van obesitas.      </div>
</div>
{%endif%}
{%endif%}
{%endif%}
  <div class="row justify-content-center mt-5 mb-5">
    <div class="Tabel" class="col-md-10 caloriescont shadow rounded">
        <div class="row">
          <div class="col-md-6">
            <h1>{{api.0.name | capfirst}} <strong class="voeding"> {{api.0.calories}}<span id="voedingCals"> Calorieën</strong>  
            <h2 class="mt-3 mb-4">Voedingswaarde </h2><span></span>
            <ul>
                <li class="servingsize">Portiegrootte per 100/Grams <span class="float-end"></span></li>
                <li>Koolhydraten: <span class="float-end">{{api.0.carbohydrates_total_g}}</span></li>
                <li>Cholesterol: <span class="float-end">{{api.0.cholesterol_mg}}</span></li>
                <li>Verzadigd vet: <span class="float-end">{{api.0.fat_saturated_g}}</span></li>
                <li>Totaal vet: <span class="float-end">{{api.0.fat_saturated_g}}</span></li>
                <li>Vezelgehalte: <span class="float-end">{{api.0.fat_total_g}}</span></li>
                <li>Potassium <span class="float-end">{{api.0.potassium_mg}}</span></li>
                <li>Proteïne <span class="float-end">{{api.0.protein_g}}</span></li>
                <li>Sodium:<span class="float-end">{{api.0.sodium_mg}}</span></li>
                <li>Suiker: <span class="float-end">{{api.0.sugar_g}}</span></li>
            </ul>
          </div>
          <div class="col-md-6 mb-5">
              <h4 class="mt-3 mb-4">Om {{api.0.calories}} calorieën te verbranden zul je moeten</h4>
              <div class="d-flex align-items-center mb-5">
                <div class="flex-shrink-0">
                  <img src="{% static 'jogging.gif' %}" class="foto" alt="...">
              </div>
              <div id="rennen" class="flex-grow-1 ms-3">
                <h5 > Jogging </h5>
                <p>je zult moeten joggen voor <strong> {{api.0.calories | div:378|mul:60|floatformat:0}} </strong> Minuten</p>
            </div>
          </div>
          <div class="d-flex align-items-center mb-5">
            <div class="flex-shrink-0">
              <img src="{% static 'Yoga.gif' %}" class="foto" alt="...">
            </div>
            <div class="flex-grow-1 ms-4">
              <h5> Do Power Yoga </h5>
              <p>daar zul je Power Yoga voor moeten hebben <strong> {{api.0.calories | div:223|mul:60|floatformat:0}} </strong> Minuten</p>
          </div>
        </div>
        <div class="d-flex align-items-center mb-5">
          <div class="flex-shrink-0">
            <img src="{% static 'Weigthlifting.gif' %}" class="foto" alt="...">
          </div>
          <div class="flex-grow-1 ms-4">
            <h5>Gym Workout </h5>
            <p>je zult gewicht moeten heffen voor <strong> {{api.0.calories | div:483|mul:60|floatformat:0}} </strong> Minuten </p>
        </div>
      </div>
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
            <img src="{% static 'walking.gif' %}" class="foto" alt="...">
     /   </div>
        <div class="flex-grow-1 ms-1">
            <h5> Maak een stevige wandeling </h5>
            <p>je zult een stevige wandeling moeten maken <strong> {{api.0.calories | div:294|mul:60|floatformat:0}}  </strong> Minuten</p>
        </div>
    </div>
</div>
<div>
  <canvas id="myChart" width="400" height="400"></canvas>
  </div>
</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js" integrity="sha512-sW/w8s4RWTdFFSduOTGtk4isV1+190E/GghVffMA9XczdJ2MDzSzLEubKAs5h0wzgSJOQTRYyaz73L3d6RtJSg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
          <script>
            const ctx = document.getElementById('myChart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['koolhydraten', 'Cholesterol', 'Saturated fat', 'Total Fat', 'Fiber Content', 'Potassium', 'Protein','Sodium','Sugar'],
                    datasets: [{
                        label: 'Nutritional values of {{api.0.name | capfirst}}',
                        data: [
                              {{api.0.carbohydrates_total_g}},
                              {{api.0.cholesterol_mg}},
                              {{api.0.fat_saturated_g}},
                              {{api.0.fat_saturated_g}},
                              {{api.0.fat_total_g}},
                              {{api.0.potassium_mg}},
                              {{api.0.protein_g}},
                              {{api.0.sodium_mg}},
                              {{api.0.sugar_g}},
                        ],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive:true,
                    maintainAspectRatio:false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            </script>            
  </body>
</html>